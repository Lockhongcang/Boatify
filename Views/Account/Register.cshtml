@model Boatify.Models.ViewModels.RegisterViewModel

@{
    Layout = "_AccountLayout";
    ViewData["Title"] = "Đăng ký";
    ViewData["BodyClass"] = "register-only";
    TempData["FormState"] = "register";
}

<div class="form-box register">
    <form asp-action="Register" method="post">
        
        <h1>Register</h1>

        <div class="input-box">
            <input asp-for="FullName" placeholder="Full name"/>
            <i class="bx bxs-user"></i>
        </div>
        <span asp-validation-for="FullName" class="text-danger"></span>

        <div class="input-box">
            <input asp-for="Email" placeholder="Email"/>
            <i class='bx bxs-envelope'></i>
        </div>
        <span asp-validation-for="Email" class="text-danger"></span>

        <div class="input-box">
            <input asp-for="Phone" placeholder="Phone" />
            <i class="bx bxs-phone"></i>
        </div>
        <span asp-validation-for="Phone" class="text-danger"></span>

        <div class="input-box">
            <input asp-for="Password" placeholder="Password" type="password"/>
            <i class="bx bxs-lock-alt"></i>
        </div>
        <span asp-validation-for="Password" class="text-danger"></span>

        <div class="input-box">
            <input asp-for="ConfirmPassword" placeholder="Confirm Password" type="password"/>
            <i class="bx bxs-lock-alt"></i>
        </div>
        <span asp-validation-for="ConfirmPassword" class="text-danger register"></span>

        <button type="submit" class="btn">Register</button>

        <p>or register with social platforms</p>
        <div class="social-icons">
            <a href="#"><i class="bx bxl-google"></i></a>
            <a href="#"><i class='bx bxl-facebook'></i></a>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        document.querySelector("form").addEventListener("submit", e => {
            const form = e.target;
            if (!form.checkValidity()) return; // chỉ xử lý nếu form hợp lệ

            const btn = form.querySelector("button[type=submit]");
            btn.disabled = true;
            btn.innerHTML = '<span class="spinner-border spinner-border-sm"></span> Đang xử lý...';
        });
    </script>
}
